record (longin, "$(P)cnt-1") {
    field(SCAN, "1 second")
    field(DTYP, "stream")
    field(INP, "@pdsgo2.proto get_data($(P)cnt-2,$(P)cnt-3,$(P)cnt-4,$(P)cnt-5,$(P)sDoseRt,$(P)sAvgDoseRt,$(P)sStatus,$(P)sErrStr) $(PORT)")
}

record(longin, "$(P)cnt-2") {
    field(DTYP, "Soft Channel")
}

record(longin, "$(P)cnt-3") {
}

record(longin, "$(P)cnt-4") {
}
record(longin, "$(P)cnt-5") {
}

record(ai, "$(P)sDoseRt") {
    field(DTYP, "Raw Soft Channel")
    field(ASLO, "0.01")
    field(EGU, "µSv/h")
    field(PREC, "1")
    field(ADEL, "0.2")
    field(HIGH, "2.0")
    field(HIHI, "10.0")
    field(HYST, "2")
    info (autosaveFields, "HIGH HIHI ADEL HYST")
}

record(ai, "$(P)sAvgDoseRt") {
    field(DTYP, "Raw Soft Channel")
    field(ASLO, "0.01")
    field(EGU, "µSv/h")
    field(PREC, "2")
    info (autosaveFields, "HIGH HIHI ADEL HYST")
}

record(longin, "$(P)sStatus") {
}

record (calc, "$(P)cnt-sum") {
    field(SCAN, "1 second")
    field(INPA, "$(P)cnt-1")
    field(INPB, "$(P)cnt-2")
    field(INPC, "$(P)cnt-3")
    field(INPD, "$(P)cnt-4")
    field(INPE, "$(P)cnt-5")
    field(INPF, "1")
    field(CALC, "(A+B+C+D+E)/F")
    field(EGU, "counts")
    field(PREC, "0")
    field(SDIS, "$(P)cnt-1.VAL NPP MS")
    field(DISV, "-1") # Will never disable, but will propagate severity
}


record(stringin, "$(P)sErrStr") {
    field(PINI, "YES")
}
